(this["webpackJsonplawyer-app"]=this["webpackJsonplawyer-app"]||[]).push([[0],{149:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(49),r=a(50),c=a(52),s=a(51),l=a(53),u=a(0),i=a.n(u),o=a(25),m=a(15),d=function(e){return{isAuth:e.auth.isAuth}},E=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(c.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(l.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(o.a,{to:"/login"})}}]),a}(i.a.Component);return Object(m.b)(d)(t)}},150:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o}));var n=a(13),r=a.n(n),c=a(28),s=a(26),l={caseElement:{}},u=function(e){return{type:"SET_CASE_ELEMENT",caseElement:e}},i=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(s.a.getCaseElement(e));case 2:a=n.sent;try{t(u(a.data))}catch(c){alert({message:c})}case 4:case"end":return n.stop()}}))}},o=function(e,t){return function(a){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(s.a.updateCaseElement(e,t));case 2:try{a(u(t))}catch(c){alert(c)}case 3:case"end":return n.stop()}}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CASE_ELEMENT":return Object(c.a)({},e,{caseElement:t.caseElement});default:return e}}},165:function(e,t,a){e.exports=a.p+"static/media/preloader.b71c9e01.svg"},169:function(e,t,a){e.exports=a(303)},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},26:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}));var n=a(157),r=n.create({baseURL:"https://historic-zion-50119.herokuapp.com/",headers:{"auth-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTU2OGI3ZGVhNWE4MzQxM2U0M2RjMTIiLCJpYXQiOjE1ODMwODU3NDN9.xX8_VysEZVWlYVLItbV-Azk88ZT772zjyn0PxyZ0x9Q"}}),c={getCases:function(){return r.get("/cases").then((function(e){return e.data}))},getCaseElement:function(e){return r.get("/cases/"+e)},updateCaseElement:function(e,t){var a=t.title,n=t.date,c=t.adress,s=t.firstName,l=t.secondName,u=t.dob,i=t.description;return r.post("/cases/"+e,{title:a,date:n,adress:c,firstName:s,secondName:l,dob:u,description:i})},deleteCaseElement:function(e){return r.delete("/cases/"+e)},addCaseElement:function(e){return r.post("/cases",e)}},s={loginMe:function(e,t){return r.post("/users/login",{email:e,password:t})},registerMe:function(e,t,a){return r.post("/users/register",{name:e,email:t,password:a})},authMe:function(){return r.get("/users/me")}}},27:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return i}));var n=a(111),r=a(0),c=a.n(r),s=(a(203),a(89)),l=a(90),u=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]),u=a.touched&&a.error;return c.a.createElement("div",{className:"input ".concat(u?"error":"")},c.a.createElement(s.a,Object.assign({},t,r)),u&&c.a.createElement(l.a,{className:"text-muted"},a.error))},i=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]),u=a.touched&&a.error;return c.a.createElement("div",{className:"textarea".concat(u?"error":"")},c.a.createElement(s.a,Object.assign({as:"textarea",rows:"5"},t,r)),u&&c.a.createElement(l.a,{className:"text-muted"},a.error))}},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),s=a.n(c),l=(a(174),a(175),a(176),a(49)),u=a(50),i=a(52),o=a(51),m=a(53),d=a(48),E=(a(177),a(313)),f=a(315),p=a(305),h=a(312),b=a(89),g=a(25),v=function(e){var t=Object(g.g)().push,a=Object(n.useState)(""),c=Object(d.a)(a,2),s=c[0],l=c[1];return r.a.createElement(E.a,{expand:"lg",variant:"dark",fixed:"top",className:"header"},r.a.createElement(E.a.Brand,{className:"header-brand"},"LAWYER REACT APP"),r.a.createElement(f.a.Link,{className:"header-cases"},r.a.createElement(p.a,{onClick:function(){e.setCases(),t("/")}},"Cases")),r.a.createElement(h.a,{inline:!0,className:"header-search"},e.isAuth?r.a.createElement(b.a,{type:"text",placeholder:"Search",onChange:function(t){l(t.target.value);var a=t.target.value;e.searchCase(a)}}):r.a.createElement(b.a,{className:"header-search-disabled",disabled:!0}),r.a.createElement(p.a,{className:"header-search-btn",onClick:function(){e.searchCase(s),l("")}},"Search")),r.a.createElement(f.a.Link,{className:"header-login"},e.isAuth?r.a.createElement("div",null,r.a.createElement("div",{className:"header-login-greating"},"Nice to see you, ",e.name,"!"),r.a.createElement(p.a,{className:"header-logout-btn",onClick:e.logOut},"Logout")):r.a.createElement(p.a,{className:"header-login-btn",onClick:function(){return t("/login")}},"Login")))},O=a(15),C=a(44),y=a(34),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).logOut=function(){a.props.logOut()},a.searchCase=function(e){a.props.searchCase(e)},a.setCases=function(){a.props.setCases()},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.authMe()}},{key:"render",value:function(){return r.a.createElement(v,Object.assign({},this.props,{logOut:this.logOut,searchCase:this.searchCase}))}}]),t}(r.a.Component),N=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,name:e.auth.name}}),{authMe:C.a,logOut:C.c,searchCase:y.d,setCases:y.e})(j),w=a(9),S=a(316),A=a(306),T=a(164),x=a(307),L=a(158),_=a(163),k=a(36),I=(a(202),a(309)),D=a(155),M=a(167),F=a(311),G=a(310),R=a(27),U=a(45),V=Object(G.a)({form:"add"})((function(e){return r.a.createElement(h.a,{onSubmit:e.handleSubmit},r.a.createElement(D.a,null,r.a.createElement(M.a,null,"Title:"),r.a.createElement(F.a,{name:"title",placeholder:"Case title",component:R.a})),r.a.createElement(D.a,null,r.a.createElement(M.a,null,"Date:"),r.a.createElement(F.a,{name:"date",placeholder:"Case date",component:R.a})),r.a.createElement(D.a,null,r.a.createElement(M.a,null,"Adress:"),r.a.createElement(F.a,{name:"adress",placeholder:"Case adress",component:R.a})),r.a.createElement(D.a,null,r.a.createElement(M.a,null,"First Name *:"),r.a.createElement(F.a,{validate:[U.b],name:"firstName",placeholder:"Client first name",component:R.a})),r.a.createElement(D.a,null,r.a.createElement(M.a,null,"Second Name *:"),r.a.createElement(F.a,{validate:[U.b],name:"secondName",placeholder:"Client second name",component:R.a})),r.a.createElement(D.a,null,r.a.createElement(M.a,null,"Date of Birth:"),r.a.createElement(F.a,{name:"dob",placeholder:"Client date of birth",component:R.a})),r.a.createElement(D.a,null,r.a.createElement(M.a,null,"Description:"),r.a.createElement(F.a,{name:"description",placeholder:"Some case description",component:R.b})),r.a.createElement(p.a,{type:"submit"},"Save"))})),z=function(e){return r.a.createElement(I.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,{id:"contained-modal-title-vcenter"},"To add a new case please fill the fields below:")),r.a.createElement(I.a.Body,null,r.a.createElement(V,{onSubmit:function(t){var a=t.title,n=t.date,r=t.adress,c=t.firstName,s=t.secondName,l=t.dob,u=t.description;e.onHide(),e.uploadCase({title:a,date:n,adress:r,firstName:c,secondName:s,dob:l,description:u})}})),r.a.createElement(I.a.Footer,null,r.a.createElement(p.a,{onClick:e.onHide},"Close")))},H=Object(O.b)((function(e){return{}}),{uploadCase:y.f})(z),P=(a(301),function(e){var t=r.a.useState(!1),a=Object(d.a)(t,2),n=a[0],c=a[1];return n?r.a.createElement(H,{show:n,onHide:function(){return c(!1)},cases:e.cases}):r.a.createElement("div",{className:"cases"},r.a.createElement("header",{className:"cases-header"},"ALL CASES"),r.a.createElement("div",null,r.a.createElement(p.a,{className:"cases-btn",onClick:function(){return c(!0)},variant:"light"},r.a.createElement(L.a,{icon:_.a,size:"5x"}))),r.a.createElement("div",{className:"cases-body"},e.cases.map((function(e){return r.a.createElement(S.a,{key:e._id},r.a.createElement(S.a.Header,null,r.a.createElement("span",null,"No of case:")," ",e._id),r.a.createElement(A.a,{className:"list-group-flush"},r.a.createElement(T.a,null,r.a.createElement("span",null,"Title:")," ",e.title),r.a.createElement(T.a,null,r.a.createElement("span",null,"Date:")," ",e.date.split("T")[0]),r.a.createElement(T.a,null,r.a.createElement("span",null,"First name:")," ",e.firstName),r.a.createElement(T.a,null,r.a.createElement("span",null,"Second name:")," ",e.secondName),r.a.createElement(T.a,null,r.a.createElement("span",null,"Adress:")," ",e.adress)),r.a.createElement(S.a.Body,null,r.a.createElement(x.a,null,r.a.createElement(p.a,{variant:"primary"},r.a.createElement(k.b,{to:"/cases/"+e._id},"Show")))))}))))}),J=a(58),B=a(149),Z=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.cases.length||this.props.getCases()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(J.a,null):null,r.a.createElement(P,{cases:this.props.cases}))}}]),t}(r.a.Component),Q=Object(w.d)(B.a,Object(O.b)((function(e){return{cases:e.casesPage.cases,isFetching:e.casesPage.isFetching}}),{getCases:y.c}))(Z),W=a(308),X=(a(302),Object(U.a)(8)),Y=Object(G.a)({form:"login"})((function(e){return r.a.createElement("div",null,r.a.createElement(h.a,{className:"login-form",onSubmit:e.handleSubmit},r.a.createElement(D.a,null,r.a.createElement(h.a.Label,null,"Email: "),r.a.createElement(F.a,{validate:[U.b],placeholder:"Email",name:"email",component:R.a})),r.a.createElement(D.a,null,r.a.createElement(h.a.Label,null,"Password: "),r.a.createElement(F.a,{validate:[U.b,X],placeholder:"Password",name:"password",component:R.a,type:"password"})),r.a.createElement(D.a,null,r.a.createElement(h.a.Control.Feedback,{className:"login-form-error",type:"invalid"},e.loginError)),r.a.createElement(p.a,{className:"login-btn",type:"submit"},"Login")),r.a.createElement("div",null,"If you don`t have an account, please ",r.a.createElement(k.b,{to:"/registration"},"click here")))})),q=function(e){return e.isAuth?r.a.createElement(g.a,{to:"/cases"}):r.a.createElement(W.a,{fluid:!0,className:"login"},r.a.createElement("header",{className:"login-header"},"Login"),r.a.createElement(Y,{onSubmit:function(t){var a=t.email,n=t.password;e.setLogin(a,n)},loginError:e.loginError}))},K=Object(O.b)((function(e){return{isAuth:e.auth.isAuth}}),{setLoginData:C.d})((function(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),c=a[0],s=a[1];return r.a.createElement(q,Object.assign({},e,{setLogin:function(t,a){e.setLoginData(t,a).then((function(e){return s(e)}))},loginError:c}))})),$=r.a.lazy((function(){return a.e(3).then(a.bind(null,320))})),ee=r.a.lazy((function(){return a.e(5).then(a.bind(null,319))})),te=r.a.lazy((function(){return a.e(4).then(a.bind(null,321))})),ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,null),r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/",render:function(){return r.a.createElement(g.a,{to:"/cases"})}}),r.a.createElement(g.b,{exact:!0,path:"/cases",render:function(){return r.a.createElement(Q,null)}}),r.a.createElement(g.b,{path:"/login",render:function(){return r.a.createElement(K,null)}}),r.a.createElement(g.b,{path:"/registration",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(J.a,null)},r.a.createElement(te,null))}}),r.a.createElement(g.b,{path:"/success-registration",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(J.a,null)},r.a.createElement(ee,null))}}),r.a.createElement(g.b,{path:"/cases/:caseId",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(J.a,null)},r.a.createElement($,null))}})))},ne=a(150),re=a(166),ce=a(314),se=Object(w.c)({casesPage:y.a,caseElementPage:ne.a,auth:C.b,form:ce.a}),le=Object(w.e)(se,Object(w.a)(re.a));window.store=le;var ue=le;s.a.render(r.a.createElement(k.a,null,r.a.createElement(O.a,{store:ue},r.a.createElement(ae,null))),document.getElementById("root"))},34:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return d})),a.d(t,"f",(function(){return E})),a.d(t,"b",(function(){return f})),a.d(t,"d",(function(){return p}));var n=a(13),r=a.n(n),c=a(116),s=a(28),l=a(26),u={cases:[],isFetching:!1},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.cases;return{type:"SET_CASES",cases:e}},o=function(e){return{type:"ADD_CASE",newCase:e}},m=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},d=function(){return function(e){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e(m(!0)),a.next=3,r.a.awrap(l.a.getCases());case 3:t=a.sent,e(m(!1)),e(i(t));case 6:case"end":return a.stop()}}))}},E=function(e){return function(t){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(l.a.addCaseElement(e));case 2:try{alert("New case was successfully added!")}catch(n){alert({message:n})}t(o(e));case 4:case"end":return a.stop()}}))}},f=function(e){return function(t){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(l.a.deleteCaseElement(e));case 2:200===a.sent.status&&alert("The case was succesfully deleted!"),t(d());case 5:case"end":return a.stop()}}))}},p=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(l.a.getCases());case 2:a=n.sent,t(i(""!==e?a.filter((function(t){return t.firstName.toLowerCase().includes(e.toLowerCase())||t.secondName.toLowerCase().includes(e.toLowerCase())||t.title.toLowerCase().includes(e.toLowerCase())?t:""})):a));case 4:case"end":return n.stop()}}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CASES":return Object(s.a)({},e,{cases:Object(c.a)(t.cases)});case"ADD_CASE":return Object(s.a)({},e,{cases:[].concat(Object(c.a)(e.cases),[t.newCase])});case"TOGGLE_IS_FETCHING":return Object(s.a)({},e,{isFetching:t.isFetching});default:return e}}},44:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return d}));var n=a(13),r=a.n(n),c=a(28),s=a(26),l={name:null,email:null,isAuth:!1,registerValidate:!1},u=function(e,t){return{type:"SET_USER_DATA",name:e,email:t}},i=function(){return{type:"SET_LOGOUT"}},o=function(){return{type:"SET_AUTH_ME"}},m=function(e,t){return function(a){var n;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,r.a.awrap(s.b.loginMe({email:e,password:t}));case 3:n=c.sent,a(u(n.data.name,n.data.email)),c.next=10;break;case 7:return c.prev=7,c.t0=c.catch(0),c.abrupt("return",c.t0.response.data);case 10:case"end":return c.stop()}}),null,null,[[0,7]])}},d=function(e,t,a){return function(n){return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,r.a.awrap(s.b.registerMe(e,t,a));case 3:n({type:"SET_REGISTER_VALIDATE"}),c.next=9;break;case 6:return c.prev=6,c.t0=c.catch(0),c.abrupt("return",c.t0.response.data);case 9:case"end":return c.stop()}}),null,null,[[0,6]])}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(c.a)({},e,{name:t.name,email:t.email,isAuth:!0});case"SET_LOGOUT":return Object(c.a)({},e,{name:null,email:null,isAuth:!1,registerValidate:!1});case"SET_AUTH_ME":return Object(c.a)({},e);case"SET_REGISTER_VALIDATE":return Object(c.a)({},e,{registerValidate:!0});default:return e}}},45:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t&&t.length<e)return"Min length is ".concat(e," symbols")}}},58:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(165),s=a.n(c);t.a=function(e){return r.a.createElement("div",{className:"preloader"},r.a.createElement("img",{alt:"preloader",src:s.a}))}}},[[169,1,2]]]);
//# sourceMappingURL=main.3e63b520.chunk.js.map